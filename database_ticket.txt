create database TicketReservation;

create table users 
(
    ID_User bigserial not null primary key,
    User_Type text,
    UserName text default 'user',
    FirstName text,
    LastName text,
    Address text,
    Email text,
	Salt text,
	Hash_Password text,
	Primary key (ID_User)
);

 Insert into users(User_Type,UserName,FirstName,LastName,Address,Email,Hash_Password) values('admin','TIM','triumf','maqedonci', 'prishtine','triumf_m@hotmail.com','12344321');
 Insert into users(UserName,FirstName,LastName,Address,Email,Hash_Password) values('TIM','triumf','maqedonci', 'prishtine taslixhe','triumf_m@hotmail.com','12344321');
 Insert into users(UserName,FirstName,LastName,Address,Email,Hash_Password) values('EDO','edonis','karaqica', 'prishtine emshir','edonis_k@hotmail.com','12344321');
 Insert into users(UserName,FirstName,LastName,Address,Email,Hash_Password) values('TORI','mentor','elshani', 'prishtine bregu i diellit','mentor_e@hotmail.com','12344321');
 Insert into users(UserName,FirstName,LastName,Address,Email,Hash_Password) values('Test1','test','test', 'prishtine','test_m@hotmail.com','12344321');





    
create table flights
(
    ID_Flights bigserial not null ,
    AircraftNr int,
    Capacity int,
    PlaceFrom text,
    DepartureDate date,
    DepartureTime time without time zone,
    PlaceTo text,
    ArrivalDate date,
    ArrivalTime time without time zone,
    PriceTicket money,
    Primary key (ID_Flights)
);

Insert into flights(AircraftNr,Capacity,PlaceFrom,DepartureDate,DepartureTime,PlaceTo,ArrivalDate,ArrivalTime,PriceTicket) values(123321,200,'Prishtina','10-10-2017','08:30','Shkup','10-10-2017','09:00',50);
Insert into flights(AircraftNr,Capacity,PlaceFrom,DepartureDate,DepartureTime,PlaceTo,ArrivalDate,ArrivalTime,PriceTicket) values(321232,100,'Prishtina','10-09-2017','10:30','Bern','10-09-2017','12:00',100);
Insert into flights(AircraftNr,Capacity,PlaceFrom,DepartureDate,DepartureTime,PlaceTo,ArrivalDate,ArrivalTime,PriceTicket) values(543321,200,'Prishtina','11-10-2017','08:45','Tiran','11-10-2017','09:15',50);
Insert into flights(AircraftNr,Capacity,PlaceFrom,DepartureDate,DepartureTime,PlaceTo,ArrivalDate,ArrivalTime,PriceTicket) values(983232,150,'Prishtina','12-09-2017','10:30','Zhenev','12-09-2017','13:00',200);
Insert into flights(AircraftNr,Capacity,PlaceFrom,DepartureDate,DepartureTime,PlaceTo,ArrivalDate,ArrivalTime,PriceTicket) values(543321,210,'Prishtina','03-10-2017','08:30','Londer','03-10-2017','14:00',100);
Insert into flights(AircraftNr,Capacity,PlaceFrom,DepartureDate,DepartureTime,PlaceTo,ArrivalDate,ArrivalTime,PriceTicket) values(321232,90,'Prishtina','10-12-2017','10:30','Bern','10-09-2017','12:00',80);


create table reservations
(
    ID_Reservation bigserial not null,
    ID_User int,
    ID_Flights int,
    SeatRreserved int default 1,
    Pay money,
    OptionPay text,
    Primary key (ID_Reservation),
    Foreign key (ID_User) references users (ID_User),
    Foreign key (ID_Flights) references flights(ID_Flights) 
 );
 
Insert into reservations(ID_User,ID_Flights,SeatRreserved,Pay,OptionPay) values(2,1,1,1,'cash');
Insert into reservations(ID_User,ID_Flights,SeatRreserved,Pay,OptionPay) values(1,1,1,1,'cash');
Insert into reservations(ID_User,ID_Flights,SeatRreserved,Pay,OptionPay) values(2,1,1,2,'cash');
Insert into reservations(ID_User,ID_Flights,SeatRreserved,Pay,OptionPay) values(3,1,1,1,'paypal');
Insert into reservations(ID_User,ID_Flights,SeatRreserved,Pay,OptionPay) values(2,1,1,3,'paypal');
Insert into reservations(ID_User,ID_Flights,SeatRreserved,Pay,OptionPay) values(1,1,1,1,'cash');

 
 
 create table confirm_reservation
 (
     ID_Confirm bigserial,
     ID_Reservation int,
     Confirm bool,
     Primary key (ID_Confirm),
     Foreign key (ID_Reservation) references reservation (ID_Reservation)
 );
 
 Insert into confirm_reservation(ID_Reservation,Confirm)values (1,1);
 Insert into confirm_reservation(ID_Reservation,Confirm)values (1,0);
 Insert into confirm_reservation(ID_Reservation,Confirm)values (2,1);
 Insert into confirm_reservation(ID_Reservation,Confirm)values (4,1);

   
     
    
    
    
    
    